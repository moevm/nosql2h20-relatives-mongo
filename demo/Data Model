NoSQL Модель данных

1. Mongo DB

Модель состоит из 2 коллекций:
	Person - хранит информацию о человеке
		* _id - int64 - уникальный идентификатор человека
		* Name - String - имя
		* Date of birth - Date - дата рождения
		* Date of death - Date - дата смерти
		* Gender - String - пол (мужской/женский)
		* Dynasty - Object - название династии, к которой принадлежит человек
		* Parents - Object - родители, если есть
			* p_id - Array[Object] - список родителей
		* Children - Object - дети, если есть
			* с_id - Array[Object] - список детей
	Dynasty - хранит информацию о династии
		* _id - int64 - уникальный идентификатор династии
		* Name - String - название династии
		* Founder - Object - основатель династии
			* f_id - int64 - идентификатор основателя

Оценка объема:
	1) PERSON
		* _id - int64  V=8b
		* Name - String - V=50b (в среднем случае)
		* Date of birth - Date - 32b
		* Date of death - Date - 32b
		* Gender - String - пол (m/f) - V=1b
		* Dynasty - Object - 12b
		* Parents - Object - родители, если есть - 12b * 0/1/2
		* Children - Object - дети, если есть - 12b * количество детей
	2) DYNASTY
		* _id - int64 - V=8b
		* Name - String - V=50b
		* Founder - Object V=12b

В среднем будем считать, что у каждого человека есть два ребенка, количество человек
- N, количество династий положим равным M.
Тогда:
V = 8*N + 50*N + 64*N + N + 24*N + 24*N + 12*N + M*8 + M*50 + M*12 = (183N + 70M)b

Например для 1000 человек из 10 династий V = 183700b

Примеры запросов:

db.person.insert_many([{
	'_id' : id,
	'Name' : Name,
	'Date of birth' : 12.12.1200,
	'Date of death' : 24.05.1245,
	'Gender' : m,
	'Dynasty' : Dynasty,
	'Parents' : parents,
	'Children' : children
}])

db.dynasty.insert_many([{
	'_id' : id,
	'Name' : Dynasty,
	'Founder' : Name
}])



2. Neo4jl

Модель состоит из двух сущностей - Person и Dynasty. Они связаны между собой ссылками. 
Каждый Person должен принадлежать к Dynasty, а Dynasty должна иметь основателя.
Метками узлов являются:
	Person:
		* _id - short - уникальный идентификатор человека
		* Name - String - имя
		* Date of birth - String - дата рождения
		* Date of death - String - дата смерти
		* Gender - Char - пол (m/f)
	Dynasty:
		* _id - short - уникальный идентификатор династии
		* Name - String - название династии

V = 2*N + 50*2*N + 10*2*2*N + 2*N + 2*M + 50*2*M = (144N + 102M)b
N = 1000, M = 10
V = 145020b

Примеры запросов:
CREATE (person{...}) - добавить человека

создать отношение
MATCH (a:person), (b:dynasty)
	WHERE a.name = "Person" AND b.name = "Dynasty"
CREATE (a)-[:Belongs_to]->(b)
RETURN a,b

SQL

В такой базе данных придется хранить несколько таблиц - Person, Psrents,
Dynasty, Founder. Получить список детей можно с помощью запроса между таблицами
Person и Parents. Создать для этого отдельную таблицу не получится, так как у человека
может либо ни одного ребенка, либо 10, и предсказать это сложно.

	1) Person
		* id - уникальный идентификатор
		* Name1 - имя человека (короткий текст)
		* Gender - пол (короткий текст)
		* Date of birth - дата рождения (дата)
		* Date of death - дата смерти (дата)
		* Dynasty - династия, к которой принадлежит человек (короткий текст)
	2) Dynasty
		* id - уникальный идентификатор династии
		* Name - название династии (короткий текст)
		* Founder - основатель династии (короткий текст)
	3) Founder
		* F_Name - имя основателя (короткий текст)
		* Dynasty - (короткий текст) - название династии
	4) Parents
		* id - уникальный идентификатор человека
		* parent1 - имя первого родителя
		* parent2 - имя второго родителя
V = 4*N + 50*N + N + 8*2*N + 50*N + 4*M + 50*M +50*M + 50*M + 50*M + 4*N +100*N = 
225N + 204M
N = 1000, M = 10
V = 227040b

Примеры запросов:

DELETE FROM Person WHERE _id = '12' - удалить из таблицы человека с id равным 10.

Оценка:

Для задачи построения генеалогических деревьев БД на SQL не подходит, так как она
не дает возможности построения графов.
При сравнении Mongo DB и Neo4jl можно сказать, что по памяти и по количеству запросов
себя показывает лучше Neo4jl, т.к. взаимодействие между сущностями в данной СУБД
гораздо проще.
